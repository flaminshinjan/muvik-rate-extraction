/**
* Copyright (c) 2025 Bytedance, Inc. and its affiliates.
* SPDX-License-Identifier: Apache-2.0
*/
function _define_property(obj, key, value) {
    if (key in obj) Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
    });
    else obj[key] = value;
    return obj;
}
class Memory {
    getMessages() {
        return this.messages;
    }
    addMessage(message) {
        this.messages.push(message);
        if (this.messages.length > this.maxMessages) this.messages = this.messages.slice(-this.maxMessages);
    }
    addMessages(messages) {
        this.messages.push(...messages);
    }
    clear() {
        this.messages = [];
    }
    getRecentMessages(n) {
        return this.messages.slice(-n);
    }
    normalize() {
        return this.messages.map((msg)=>msg.toObject());
    }
    toJSON() {
        return this.messages.map((msg)=>msg.toJSON());
    }
    constructor(messages = [], maxMessages = 100){
        _define_property(this, "messages", void 0);
        _define_property(this, "maxMessages", void 0);
        this.messages = messages;
        this.maxMessages = maxMessages;
    }
}
export { Memory };

//# sourceMappingURL=Memory.mjs.map